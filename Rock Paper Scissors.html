<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors</title>
</head>


<body>
   
 <!-- Ces commentaires expliquent l'objectif et la logique -->
  <!--
    L’ordinateur choisit une valeur aléatoire entre 1 et 3
    En fonction de la valeur, pierre, papier ou ciseaux sont assignés au choix
    Le joueur entre son choix entre pierre, papier ou ciseaux
    En fonction du choix du joueur, il perd ou gagne la partie
    L’ordinateur retient le score du joueur
  -->


    <h1>Rock Paper Scissors</h1>
    <h2>The game</h2>


    <script>
        console.log("Hello World!");
         

const choices = ["pierre", "papier", "ciseaux"];

const getHumanChoice = () => {
  let choix = prompt("Pierre, papier ou ciseaux ?");
  choix = choix ? choix.toLowerCase().trim() : null;

  if (choices.includes(choix)) {
    return choix;
  } else {
    console.log("Choix invalide. Essayez de nouveau ! (Pierre, Papier, Ciseaux)");
    return null;
  }
};

const getComputerChoice = () => {
  const randomIndex = Math.floor(Math.random() * choices.length);
  return choices[randomIndex];
};

const playRound = (humanChoice, computerChoice) => {
  if (humanChoice === computerChoice) {
    return "Égalité !";
  } else if (
    (humanChoice === "papier" && computerChoice === "pierre") ||
    (humanChoice === "pierre" && computerChoice === "ciseaux") ||
    (humanChoice === "ciseaux" && computerChoice === "papier")
  ) {
    return "Victoire !";
  } else {
    return "Défaite !";
  }
};

const playGame = () => {
  let humanScore = 0;
  let computerScore = 0;

  for (let i = 0; i < 5; i++) {
    console.log(`Manche ${i + 1}`);

    let humanSelection = null;
    while (!humanSelection) {
      humanSelection = getHumanChoice();
    }

    const computerSelection = getComputerChoice();

    console.log(`Choix du joueur : ${humanSelection}`);
    console.log(`Choix de l'ordinateur : ${computerSelection}`);

    const result = playRound(humanSelection, computerSelection);
    console.log(result);

    if (result === "Victoire !") {
      humanScore++;
    } else if (result === "Défaite !") {
      computerScore++;
    }

    console.log(`Score : Humain ${humanScore}, Ordinateur ${computerScore}`);
  }

  console.log("Partie terminée !");
  if (humanScore > computerScore) {
    console.log("Vous avez gagné la partie !");
  } else if (humanScore < computerScore) {
    console.log("L'ordinateur a gagné la partie !");
  } else {
    console.log("La partie est une égalité !");
  }
};

// Démarrer le jeu
playGame();









    </script>

</body>
</html>